{"ast":null,"code":"import _slicedToArray from\"C:/Users/Ana/Desktop/fitness_life__app/Nueva app fitness/Vida-fit/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import apiUser from\"../services/api-users\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyKitchenRecipes=function MyKitchenRecipes(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favouritesRecipes=_useState2[0],setFavouritesRecipes=_useState2[1];//Pedimos las recetas del usuario:\nuseEffect(function(){var userId=localStorage.getItem(\"userId\");apiUser.getUserRecipes(userId).then(function(data){setFavouritesRecipes(data.myFavouriteRecipes);});},[]);var renderFavouritesRecipes=function renderFavouritesRecipes(){return/*#__PURE__*/_jsx(\"ul\",{className:\"recipeCard__container\",children:renderFavs()});};var handleFavourite=function handleFavourite(recipeId){var userId=localStorage.getItem(\"userId\");apiUser.setRecipeFavourite(userId,recipeId).then(function(res){setFavouritesRecipes(function(prev){return prev.filter(function(item){return item.id!==recipeId;});});});};var renderFavs=function renderFavs(){if(favouritesRecipes.length!==0){return favouritesRecipes.map(function(recipe){return/*#__PURE__*/_jsxs(\"li\",{className:\"recipeCard\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"recipeCard__subtitle \",children:recipe.name}),/*#__PURE__*/_jsxs(\"i\",{className:\"fa-solid fa-heart recipeCard__fav\",onClick:function onClick(){return handleFavourite(recipe.id);},children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"recipeCard__makeFav\",children:\"Not Fav\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"recipeCard__description\",children:[\"How to do it: \",recipe.description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"recipeCard__difficulty\",children:[\"Difficulty: \",recipe.difficulty]})]},recipe.id);});}else{return/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage\",children:\"There are not favourites \"});}};return/*#__PURE__*/_jsxs(\"section\",{className:\"myRecipes\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"recipeCard__title\",children:\"These are your favorite recipes\"}),renderFavouritesRecipes()]});};export default MyKitchenRecipes;","map":{"version":3,"names":["React","useEffect","useState","apiUser","MyKitchenRecipes","props","favouritesRecipes","setFavouritesRecipes","userId","localStorage","getItem","getUserRecipes","then","data","myFavouriteRecipes","renderFavouritesRecipes","renderFavs","handleFavourite","recipeId","setRecipeFavourite","res","prev","filter","item","id","length","map","recipe","name","description","difficulty"],"sources":["C:/Users/Ana/Desktop/fitness_life__app/Nueva app fitness/Vida-fit/web/src/components/MyKitchenRecipes.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport apiUser from \"../services/api-users\";\r\n\r\nconst MyKitchenRecipes = (props) => {\r\n  const [favouritesRecipes, setFavouritesRecipes] = useState([]);\r\n  //Pedimos las recetas del usuario:\r\n  useEffect(() => {\r\n    const userId = localStorage.getItem(\"userId\");\r\n    apiUser.getUserRecipes(userId).then((data) => {\r\n      setFavouritesRecipes(data.myFavouriteRecipes);\r\n    });\r\n  }, []);\r\n  const renderFavouritesRecipes = () => {\r\n    return <ul className=\"recipeCard__container\">{renderFavs()}</ul>;\r\n  };\r\n  const handleFavourite = (recipeId) => {\r\n    const userId = localStorage.getItem(\"userId\");\r\n    apiUser.setRecipeFavourite(userId, recipeId).then((res) => {\r\n      setFavouritesRecipes((prev) =>\r\n        prev.filter((item) => {\r\n          return item.id !== recipeId;\r\n        })\r\n      );\r\n    });\r\n  };\r\n  const renderFavs = () => {\r\n    if (favouritesRecipes.length !== 0) {\r\n      return favouritesRecipes.map((recipe) => {\r\n        return (\r\n          <li key={recipe.id} className=\"recipeCard\">\r\n            <h3 className=\"recipeCard__subtitle \">{recipe.name}</h3>\r\n            <i\r\n              className=\"fa-solid fa-heart recipeCard__fav\"\r\n              onClick={() => handleFavourite(recipe.id)}\r\n            >\r\n              {\" \"}\r\n              <span className=\"recipeCard__makeFav\">Not Fav</span>\r\n            </i>\r\n            <p className=\"recipeCard__description\">\r\n              How to do it: {recipe.description}\r\n            </p>\r\n            <p className=\"recipeCard__difficulty\">\r\n              Difficulty: {recipe.difficulty}\r\n            </p>\r\n          </li>\r\n        );\r\n      });\r\n    } else {\r\n      return <p className=\"errorMessage\">There are not favourites </p>;\r\n    }\r\n  };\r\n  return (\r\n    <section className=\"myRecipes\">\r\n      <h1 className=\"recipeCard__title\">These are your favorite recipes</h1>\r\n      {renderFavouritesRecipes()}\r\n    </section>\r\n  );\r\n};\r\nexport default MyKitchenRecipes;\r\n"],"mappings":"2JAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,QAAP,KAAoB,uBAApB,C,wFAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,KAAD,CAAW,CAClC,cAAkDH,QAAQ,CAAC,EAAD,CAA1D,wCAAOI,iBAAP,eAA0BC,oBAA1B,eACA;AACAN,SAAS,CAAC,UAAM,CACd,GAAMO,OAAM,CAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf,CACAP,OAAO,CAACQ,cAAR,CAAuBH,MAAvB,EAA+BI,IAA/B,CAAoC,SAACC,IAAD,CAAU,CAC5CN,oBAAoB,CAACM,IAAI,CAACC,kBAAN,CAApB,CACD,CAFD,EAGD,CALQ,CAKN,EALM,CAAT,CAMA,GAAMC,wBAAuB,CAAG,QAA1BA,wBAA0B,EAAM,CACpC,mBAAO,WAAI,SAAS,CAAC,uBAAd,UAAuCC,UAAU,EAAjD,EAAP,CACD,CAFD,CAGA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,QAAD,CAAc,CACpC,GAAMV,OAAM,CAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf,CACAP,OAAO,CAACgB,kBAAR,CAA2BX,MAA3B,CAAmCU,QAAnC,EAA6CN,IAA7C,CAAkD,SAACQ,GAAD,CAAS,CACzDb,oBAAoB,CAAC,SAACc,IAAD,QACnBA,KAAI,CAACC,MAAL,CAAY,SAACC,IAAD,CAAU,CACpB,MAAOA,KAAI,CAACC,EAAL,GAAYN,QAAnB,CACD,CAFD,CADmB,EAAD,CAApB,CAKD,CAND,EAOD,CATD,CAUA,GAAMF,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,GAAIV,iBAAiB,CAACmB,MAAlB,GAA6B,CAAjC,CAAoC,CAClC,MAAOnB,kBAAiB,CAACoB,GAAlB,CAAsB,SAACC,MAAD,CAAY,CACvC,mBACE,YAAoB,SAAS,CAAC,YAA9B,wBACE,WAAI,SAAS,CAAC,uBAAd,UAAuCA,MAAM,CAACC,IAA9C,EADF,cAEE,WACE,SAAS,CAAC,mCADZ,CAEE,OAAO,CAAE,yBAAMX,gBAAe,CAACU,MAAM,CAACH,EAAR,CAArB,EAFX,WAIG,GAJH,cAKE,aAAM,SAAS,CAAC,qBAAhB,qBALF,GAFF,cASE,WAAG,SAAS,CAAC,yBAAb,4BACiBG,MAAM,CAACE,WADxB,GATF,cAYE,WAAG,SAAS,CAAC,wBAAb,0BACeF,MAAM,CAACG,UADtB,GAZF,GAASH,MAAM,CAACH,EAAhB,CADF,CAkBD,CAnBM,CAAP,CAoBD,CArBD,IAqBO,CACL,mBAAO,UAAG,SAAS,CAAC,cAAb,uCAAP,CACD,CACF,CAzBD,CA0BA,mBACE,iBAAS,SAAS,CAAC,WAAnB,wBACE,WAAI,SAAS,CAAC,mBAAd,6CADF,CAEGT,uBAAuB,EAF1B,GADF,CAMD,CAtDD,CAuDA,cAAeX,iBAAf"},"metadata":{},"sourceType":"module"}