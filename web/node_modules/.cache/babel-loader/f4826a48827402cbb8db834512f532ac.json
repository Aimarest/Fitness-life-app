{"ast":null,"code":"import _slicedToArray from\"C:/Users/Ana/Desktop/fitness_life__app/Nueva app fitness/Vida-fit/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import apiUser from\"../services/api-users\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyTrainingExercises=function MyTrainingExercises(props){var userId=localStorage.getItem(\"userId\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favouritesExercises=_useState2[0],setFavouritesExercises=_useState2[1];//Pedimos los ejercicios del usuario:\nuseEffect(function(){apiUser.getUserExercises(userId).then(function(data){setFavouritesExercises(data.myFavouriteExercises);});},[userId]);var renderFavouritesExercises=function renderFavouritesExercises(){return/*#__PURE__*/_jsx(\"ul\",{className:\"cards\",children:renderFavs()});};var handleFavourite=function handleFavourite(exerciseId){var userId=localStorage.getItem(\"userId\");apiUser.setExerciseFavourite(userId,exerciseId).then(function(res){setFavouritesExercises(function(prev){return prev.filter(function(item){return item.id!==exerciseId;});});});};var renderFavs=function renderFavs(){if(favouritesExercises.length!==0){return favouritesExercises.map(function(exercise){return/*#__PURE__*/_jsxs(\"li\",{className:\"training__card\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"training__img\",src:exercise.image,alt:\"\".concat(exercise.name)}),/*#__PURE__*/_jsx(\"h3\",{className:\"training__subtitle\",children:exercise.name}),/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-heart training__fav\",onClick:function onClick(){return handleFavourite(exercise.id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"training__makeFav\",children:\"Not Fav\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"training__description\",children:[\"How to do it: \",exercise.description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"training__difficulty\",children:[\"Difficulty: \",exercise.difficulty]})]},exercise.id);});}else{return/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage errorMessageTraining\",children:\" There are not favourites\"});}};return/*#__PURE__*/_jsxs(\"section\",{className:\"training\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"training__title\",children:\"These are your favorite exercises\"}),renderFavouritesExercises()]});};export default MyTrainingExercises;","map":{"version":3,"names":["React","useEffect","useState","apiUser","MyTrainingExercises","props","userId","localStorage","getItem","favouritesExercises","setFavouritesExercises","getUserExercises","then","data","myFavouriteExercises","renderFavouritesExercises","renderFavs","handleFavourite","exerciseId","setExerciseFavourite","res","prev","filter","item","id","length","map","exercise","image","name","description","difficulty"],"sources":["C:/Users/Ana/Desktop/fitness_life__app/Nueva app fitness/Vida-fit/web/src/components/MyTrainingExercises.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport apiUser from \"../services/api-users\";\r\nconst MyTrainingExercises = (props) => {\r\n  const userId = localStorage.getItem(\"userId\");\r\n  const [favouritesExercises, setFavouritesExercises] = useState([]);\r\n  //Pedimos los ejercicios del usuario:\r\n  useEffect(() => {\r\n    apiUser.getUserExercises(userId).then((data) => {\r\n      setFavouritesExercises(data.myFavouriteExercises);\r\n    });\r\n  }, [userId]);\r\n  const renderFavouritesExercises = () => {\r\n    return <ul className=\"cards\">{renderFavs()}</ul>;\r\n  };\r\n  const handleFavourite = (exerciseId) => {\r\n    const userId = localStorage.getItem(\"userId\");\r\n    apiUser.setExerciseFavourite(userId, exerciseId).then((res) => {\r\n      setFavouritesExercises((prev) =>\r\n        prev.filter((item) => {\r\n          return item.id !== exerciseId;\r\n        })\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderFavs = () => {\r\n    if (favouritesExercises.length !== 0) {\r\n      return favouritesExercises.map((exercise) => {\r\n        return (\r\n          <li key={exercise.id} className=\"training__card\">\r\n            <img\r\n              className=\"training__img\"\r\n              src={exercise.image}\r\n              alt={`${exercise.name}`}\r\n            />\r\n            <h3 className=\"training__subtitle\">{exercise.name}</h3>\r\n            <i\r\n              className=\"fa-solid fa-heart training__fav\"\r\n              onClick={() => handleFavourite(exercise.id)}\r\n            >\r\n              <span className=\"training__makeFav\">Not Fav</span>\r\n            </i>\r\n            <p className=\"training__description\">\r\n              How to do it: {exercise.description}\r\n            </p>\r\n            <p className=\"training__difficulty\">\r\n              Difficulty: {exercise.difficulty}\r\n            </p>\r\n          </li>\r\n        );\r\n      });\r\n    } else {\r\n      return <p className=\"errorMessage errorMessageTraining\"> There are not favourites</p>;\r\n    }\r\n  };\r\n  return (\r\n    <section className=\"training\">\r\n      <h1 className=\"training__title\">These are your favorite exercises</h1>\r\n      {renderFavouritesExercises()}\r\n    </section>\r\n  );\r\n};\r\nexport default MyTrainingExercises;\r\n"],"mappings":"2JAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,QAAP,KAAoB,uBAApB,C,wFACA,GAAMC,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACC,KAAD,CAAW,CACrC,GAAMC,OAAM,CAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf,CACA,cAAsDN,QAAQ,CAAC,EAAD,CAA9D,wCAAOO,mBAAP,eAA4BC,sBAA5B,eACA;AACAT,SAAS,CAAC,UAAM,CACdE,OAAO,CAACQ,gBAAR,CAAyBL,MAAzB,EAAiCM,IAAjC,CAAsC,SAACC,IAAD,CAAU,CAC9CH,sBAAsB,CAACG,IAAI,CAACC,oBAAN,CAAtB,CACD,CAFD,EAGD,CAJQ,CAIN,CAACR,MAAD,CAJM,CAAT,CAKA,GAAMS,0BAAyB,CAAG,QAA5BA,0BAA4B,EAAM,CACtC,mBAAO,WAAI,SAAS,CAAC,OAAd,UAAuBC,UAAU,EAAjC,EAAP,CACD,CAFD,CAGA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,UAAD,CAAgB,CACtC,GAAMZ,OAAM,CAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf,CACAL,OAAO,CAACgB,oBAAR,CAA6Bb,MAA7B,CAAqCY,UAArC,EAAiDN,IAAjD,CAAsD,SAACQ,GAAD,CAAS,CAC7DV,sBAAsB,CAAC,SAACW,IAAD,QACrBA,KAAI,CAACC,MAAL,CAAY,SAACC,IAAD,CAAU,CACpB,MAAOA,KAAI,CAACC,EAAL,GAAYN,UAAnB,CACD,CAFD,CADqB,EAAD,CAAtB,CAKD,CAND,EAOD,CATD,CAWA,GAAMF,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,GAAIP,mBAAmB,CAACgB,MAApB,GAA+B,CAAnC,CAAsC,CACpC,MAAOhB,oBAAmB,CAACiB,GAApB,CAAwB,SAACC,QAAD,CAAc,CAC3C,mBACE,YAAsB,SAAS,CAAC,gBAAhC,wBACE,YACE,SAAS,CAAC,eADZ,CAEE,GAAG,CAAEA,QAAQ,CAACC,KAFhB,CAGE,GAAG,WAAKD,QAAQ,CAACE,IAAd,CAHL,EADF,cAME,WAAI,SAAS,CAAC,oBAAd,UAAoCF,QAAQ,CAACE,IAA7C,EANF,cAOE,UACE,SAAS,CAAC,iCADZ,CAEE,OAAO,CAAE,yBAAMZ,gBAAe,CAACU,QAAQ,CAACH,EAAV,CAArB,EAFX,uBAIE,aAAM,SAAS,CAAC,mBAAhB,qBAJF,EAPF,cAaE,WAAG,SAAS,CAAC,uBAAb,4BACiBG,QAAQ,CAACG,WAD1B,GAbF,cAgBE,WAAG,SAAS,CAAC,sBAAb,0BACeH,QAAQ,CAACI,UADxB,GAhBF,GAASJ,QAAQ,CAACH,EAAlB,CADF,CAsBD,CAvBM,CAAP,CAwBD,CAzBD,IAyBO,CACL,mBAAO,UAAG,SAAS,CAAC,mCAAb,uCAAP,CACD,CACF,CA7BD,CA8BA,mBACE,iBAAS,SAAS,CAAC,UAAnB,wBACE,WAAI,SAAS,CAAC,iBAAd,+CADF,CAEGT,yBAAyB,EAF5B,GADF,CAMD,CA3DD,CA4DA,cAAeX,oBAAf"},"metadata":{},"sourceType":"module"}